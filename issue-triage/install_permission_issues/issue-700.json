{"assignees":[],"author":{"id":"MDQ6VXNlcjI5NTEzMzcy","is_bot":false,"login":"Nidal-Bakir","name":"Nidal Bakir"},"body":"This will fix: #699 ","closedAt":"2024-10-01T17:15:25Z","comments":[{"id":"IC_kwDOCkCuKM54JGof","author":{"login":"vercel"},"authorAssociation":"NONE","body":"@Nidal-Bakir is attempting to deploy a commit to the **FlutterTools** Team on [Vercel](https://vercel.com).\n\nA member of the Team first needs to [authorize it](https://vercel.com/git/authorize?team=FlutterTools&type=github&job=%7B%22headInfo%22%3A%7B%22sha%22%3A%22e04a1f455c4db33c4c220a5239acb76c0e132c02%22%7D%2C%22id%22%3A%22QmTQmWx6Yypk5vWsCagswn2tMT7pCcMJqkzbMiVvt4WJf8%22%2C%22org%22%3A%22leoafarias%22%2C%22prId%22%3A700%2C%22repo%22%3A%22fvm%22%7D).\n\n","createdAt":"2024-03-22T18:11:39Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2015652383","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM54TMIn","author":{"login":"vercel"},"authorAssociation":"NONE","body":"[vc]: #X7Jpz7gugJYcPs18fg2sG2INF3LeFIWvb09nrp+1k/U=:eyJpc01vbm9yZXBvIjp0cnVlLCJ0eXBlIjoiZ2l0aHViIiwicHJvamVjdHMiOlt7Im5hbWUiOiJmdm0iLCJyb290RGlyZWN0b3J5IjoiZG9jcyIsImluc3BlY3RvclVybCI6Imh0dHBzOi8vdmVyY2VsLmNvbS9mbHV0dGVydG9vbHMvZnZtLzlyNDNwVVFhNUVCRm9Bb1dwUUFMWkdaamZnQlIiLCJwcmV2aWV3VXJsIjoiZnZtLWdpdC1mb3JrLW5pZGFsLWJha2lyLWZpeDY5OS1mbHV0dGVydG9vbHMudmVyY2VsLmFwcCIsIm5leHRDb21taXRTdGF0dXMiOiJERVBMT1lFRCIsImxpdmVGZWVkYmFjayI6eyJyZXNvbHZlZCI6MCwidW5yZXNvbHZlZCI6MCwidG90YWwiOjAsImxpbmsiOiJmdm0tZ2l0LWZvcmstbmlkYWwtYmFraXItZml4Njk5LWZsdXR0ZXJ0b29scy52ZXJjZWwuYXBwIn19XX0=\n**The latest updates on your projects**. Learn more about [Vercel for Git â†—ï¸Ž](https://vercel.link/github-learn-more)\n\n| Name | Status | Preview | Comments | Updated (UTC) |\n| :--- | :----- | :------ | :------- | :------ |\n| **fvm** | âœ… Ready ([Inspect](https://vercel.com/fluttertools/fvm/9r43pUQa5EBFoAoWpQALZGZjfgBR)) | [Visit Preview](https://vercel.live/open-feedback/fvm-git-fork-nidal-bakir-fix699-fluttertools.vercel.app?via=pr-comment-visit-preview-link&passThrough=1) | ðŸ’¬ [**Add feedback**](https://vercel.live/open-feedback/fvm-git-fork-nidal-bakir-fix699-fluttertools.vercel.app?via=pr-comment-feedback-link) | Jun 27, 2024 6:45pm |\n\n","createdAt":"2024-03-25T15:35:55Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2018296359","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM583hFb","author":{"login":"SSebigo"},"authorAssociation":"NONE","body":"Is it good ? This is the only problem I have with FVM right now.","createdAt":"2024-05-05T19:52:22Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2094928219","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM585UGL","author":{"login":"Nidal-Bakir"},"authorAssociation":"CONTRIBUTOR","body":"@SSebigo \r\nYes, you can use this updated script to install FVM on Linux.\r\nThis will probably not get merged now, so you can copy and paste the updated script to your machine, make it executable, and run it.","createdAt":"2024-05-06T07:59:03Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2095399307","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM59Ep1k","author":{"login":"leoafarias"},"authorAssociation":"OWNER","body":"@Nidal-Bakir Sorry for the delay on this, but can we maybe move the directory to ~/.fvm/bin/fvm instead of local, and make both mac and linux consistent?","createdAt":"2024-05-07T13:10:30Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2098371940","viewerDidAuthor":true},{"id":"IC_kwDOCkCuKM591Kkm","author":{"login":"vicenterusso"},"authorAssociation":"NONE","body":"That script did work for me, fresh fedora40 install\r\n\r\n```\r\nln: failed to create symbolic link '/home/vicente/.local/bin/fvm': No such file or directory\r\nerror: Failed to create symlink.\r\n``` \r\n\r\nThere is no `.local/bin/` yet. should the script handle this, maybe?\r\n\r\nEdit: the script auto assumes that `$HOME/.local/bin` is already in PATH, which might not be true in a fresh linux install\r\n\r\nAfter manually creating local/bin folder and adding it to the PATH, the script worked","createdAt":"2024-05-14T20:30:43Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2111088934","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM5-UX3D","author":{"login":"toddtail"},"authorAssociation":"NONE","body":"> @SSebigo Yes, you can use this updated script to install FVM on Linux. This will probably not get merged now, so you can copy and paste the updated script to your machine, make it executable, and run it.\r\n\r\nThe Script worked for me but still got 2 things needs to be done manually:\r\n\r\n1. create bin folder in ~/.local\r\n2. add `export PATH=\"$PATH:$HOME/.local/bin/\"` to .bashrc file\r\n\r\n","createdAt":"2024-05-19T15:09:10Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2119269827","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM5-2p74","author":{"login":"Nidal-Bakir"},"authorAssociation":"CONTRIBUTOR","body":"@leoafarias \r\n\r\n>can we maybe move the directory to ~/.fvm/bin/fvm instead of local, and make both mac and linux consistent?\r\n\r\nI cannot speak for the Mac because I do not have a Mac, and I do not know if Mac has a `./local/bin` folder or if this folder is a standard thing in the Mac world. The `./local/bin` is a conventional thing in the Linux world, and it is fair to assume that the developer who is **_bashing a script of the internet_** already has `./local/bin` in his `PATH` variable.\r\n\r\nNonetheless, we can add some extra comments to note that the `./local/bin` needs to be in the `PATH` variable, and you need to create such a folder if none exists.","createdAt":"2024-05-24T00:07:10Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2128256760","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM5-2q0-","author":{"login":"vicenterusso"},"authorAssociation":"NONE","body":"> it is fair to assume that the developer who is **_bashing a script of the internet_** already has `./local/bin` in his `PATH` variable.\r\n\r\nLets agree to disagree. You are correct. Most users should already have `./local/bin` in his `PATH` variable. In my specific case, FVM was my first install after a fresh fedora install. I quickly fixed adding to the PATH and creating the `./local/bin` folder.\r\n\r\nBut it shouldn't hurt having these small checks inside the script, makes it more reliable.\r\n","createdAt":"2024-05-24T00:11:47Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2128260414","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM5-2tBD","author":{"login":"Nidal-Bakir"},"authorAssociation":"CONTRIBUTOR","body":"We can make the script create the `./local/bin` folder `mkdir -p $HOME/local/bin`, but how can we add the `PATH=\"$PATH:$HOME/.local/bin/` to `.bashrc` or `.zshrc` ... ETC. I'm not aware of a solution for that :/","createdAt":"2024-05-24T00:22:33Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2128269379","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM5-21OB","author":{"login":"vicenterusso"},"authorAssociation":"NONE","body":"> We can make the script create the `./local/bin` folder `mkdir -p $HOME/local/bin`, but how can we add the `PATH=\"$PATH:$HOME/.local/bin/` to `.bashrc` or `.zshrc` ... ETC. I'm not aware of a solution for that :/\r\n\r\nThat's trivial to add to PATH but personally I would just echo the instructions to the user add manually","createdAt":"2024-05-24T01:08:19Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2128302977","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM5-88A5","author":{"login":"Nidal-Bakir"},"authorAssociation":"CONTRIBUTOR","body":">That's trivial to add to PATH but personally I would just echo the instructions to the user add manually\r\n\r\nNo, it's not trivial!\r\n\r\n- We can not use `echo` in this situation we do not know where the `.bashrc`/`.zshrc`.... files are!\r\n- Each time the user runs the script, the script will `echo` the instructions to the user `.bashrc`/`.zshrc` assuming we know the path of these files.","createdAt":"2024-05-24T16:08:49Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2129903673","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM5-9F7A","author":{"login":"Nidal-Bakir"},"authorAssociation":"CONTRIBUTOR","body":"So as for now, it turns out that some distros do not follow the [XDG Base Directory Specification](https://specifications.freedesktop.org/basedir-spec/basedir-spec-latest.html)\r\n\r\n> User-specific executable files may be stored in $HOME/.local/bin. Distributions should ensure this directory shows up in the UNIX $PATH environment variable, at an appropriate place.\r\n\r\nWe need to do the following:\r\n \r\n1. Create the $HOME/.local/bin folder if it does not exist. We can easily do that using `mkdir -p $HOME/.local/bin`.\r\n2. Instruct the user to add `$HOME/.local/bin/` to their PATH variable if it does not already exist.\r\n","createdAt":"2024-05-24T16:26:22Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2129944256","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM5-9HBq","author":{"login":"vicenterusso"},"authorAssociation":"NONE","body":"> > That's trivial to add to PATH but personally I would just echo the instructions to the user add manually\r\n> \r\n> No, it's not trivial!\r\n> \r\n> * We can not use `echo` in this situation we do not know where the `.bashrc`/`.zshrc`.... files are!\r\n> * Each time the user runs the script, the script will `echo` the instructions to the user `.bashrc`/`.zshrc` assuming we know the path of these files.\r\n\r\nJesus, man. when I say \"echo\" I mean display it to terminal to the user add it manually. But yes, its trivial to automatically add to correct shell file and still check if ts already set. ","createdAt":"2024-05-24T16:29:28Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2129948778","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM5-9MWW","author":{"login":"Nidal-Bakir"},"authorAssociation":"CONTRIBUTOR","body":"> Jesus, man. when I say \"echo\" I mean display it to terminal to the user add it manually. But yes, its trivial to automatically add to correct shell file and still check if ts already set.\r\n\r\nApologies for my mistake. I misinterpreted your comment. If you are confident about it, then please guide me in the right way.\r\n","createdAt":"2024-05-24T16:40:39Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2129970582","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM5-9PTc","author":{"login":"Nidal-Bakir"},"authorAssociation":"CONTRIBUTOR","body":"So we have two options I think:\r\n\r\n1.  Instruct the user to add $HOME/.local/bin/ to their PATH variable if it does not already exist using `echo` as an output of running the script. And I would add this to the website also just to be more clear for all the users\r\n2. if @vicenterusso has a script to add this to the user PATH var","createdAt":"2024-05-24T16:49:28Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2129982684","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM5_rzah","author":{"login":"leoafarias"},"authorAssociation":"OWNER","body":"@Nidal-Bakir When looking at similar .sh scripts to install, I found the use of `.packagename` over `.local`. For example, if you look at the install.sh for Bun on https://bun.sh, which you can find here: https://bun.sh/install, it seems the same behavior is for Mac and Linux and does use local.\r\n\r\nCan you take a brief look at this, as it would be more straightforward to just set this?","createdAt":"2024-05-31T13:40:17Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":2}}],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2142189217","viewerDidAuthor":true},{"id":"IC_kwDOCkCuKM6ABTRp","author":{"login":"leoafarias"},"authorAssociation":"OWNER","body":"@Nidal-Bakir, can you confirm my message above with the example from Bun? It seems they are not using local. I would prefer this approach if it works without manual intervention.","createdAt":"2024-06-04T15:28:49Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2147824745","viewerDidAuthor":true},{"id":"IC_kwDOCkCuKM6AU3oj","author":{"login":"Nidal-Bakir"},"authorAssociation":"CONTRIBUTOR","body":"Hi @leoafarias sorry for the delay. I am currently only available during weekends (Friday for me) I will get this done by tomorrow.\r\nI can make it seamless for the user.\r\n\r\nYes, the Bun team does not use the `.local/bin` convention. They are using the `.packageName` and adding it to the PATH var  ","createdAt":"2024-06-06T16:36:12Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2152954403","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM6AbzPK","author":{"login":"Nidal-Bakir"},"authorAssociation":"CONTRIBUTOR","body":"@leoafarias \r\n\r\nI appreciate your feedback and I believe everything is in good shape. However, I wanted to note one thing: I have added an update script. Users should use this update script to update FVM. Otherwise, the install script **_may_** repeatedly add the FVM bin path to the PATH variable. While this isn't harmful, it's not ideal.\r\n\r\nThereâ€™s no way to be certain that FVM is fully added to the PATH, because we are checking the local PATH per the SHELL variable. This means that FVM might be in the PATH for zsh or fish, but not for bash. Since we are piping the script to bash, we can only see the PATH for the bash scope. This is why I have included the update.sh script.","createdAt":"2024-06-07T12:49:54Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2154771402","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM6Ms-8T","author":{"login":"BriceCroix"},"authorAssociation":"NONE","body":"Hi. I encountered the same problem trying to install fvm on ubuntu. I can use the script provided in this PR, but is there any update about it ? Is there a reason not to merge it for now ?\r\nThanks !","createdAt":"2024-09-19T10:24:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2360602387","viewerDidAuthor":false},{"id":"IC_kwDOCkCuKM6OP9yX","author":{"login":"leoafarias"},"authorAssociation":"OWNER","body":"I am bringing this in, but most likely will have to do a full review across all the platforms.","createdAt":"2024-10-01T17:15:20Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/leoafarias/fvm/pull/700#issuecomment-2386549911","viewerDidAuthor":true}],"createdAt":"2024-03-22T18:11:35Z","labels":[],"number":700,"state":"MERGED","title":"feat: automatically add `~/.fvm_flutter/bin` to the PATH var in `install.sh` and introduce `update.sh`","updatedAt":"2024-10-01T17:15:25Z","url":"https://github.com/leoafarias/fvm/pull/700"}
